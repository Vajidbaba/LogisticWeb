@* @model List<Common.Data.Models.AttendanceModel>

@{
    ViewData["Title"] = "Details";
}
<link href="https://cdn.datatables.net/2.3.0/css/dataTables.dataTables.css" rel="stylesheet" />
<h6>Details</h6>

<div class="card rounded-2 mt-2">
    <div class="card-body p-2">
        <div class="row">
            <div class="col-md-4 text-start d-flex align-items-center">
                <input type="date" id="currentDate" class="form-control form-control-sm " />
            </div>
            <div class="col-md-4 text-start d-flex align-items-center">
                <button class="btn btn-dark btn-sm px-3 mb-0" onclick="search()"><i class="fa fa-search text-sm"></i> Search</button>
            </div>
            <div class="col-md-4 text-end">
                <a href="@Url.Action("List", "Attendance")" class="btn btn-dark btn-sm px-3"><i class="fa fa-arrow-left text-sm"></i></a>
            </div>
        </div>
        <div class="table-responsive">
            <table id="attexample" class="table table-sm table-striped table-hover mb-0 dt-responsive nowrap w-100 small align-middle">
                <thead class="table-light">
                    <tr>
                        <th class="p-1 ps-2">Name</th>
                        <th class="p-1 ps-2">Date</th>
                        <th class="p-1 ps-2">Check In</th>
                        <th class="p-1 ps-2">Check Out</th>
                        <th class="p-1 ps-2">Work Hours</th>
                        <th class="p-1 ps-2">Status</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.datatables.net/2.3.0/js/dataTables.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
             search();
         });


         function search() {
           //var date =  $("#currentDate").val();
          if ($.fn.DataTable.isDataTable("#attexample")) {
                $("#attexample").DataTable().destroy();
              }
             $('#attexample').DataTable({
                 "processing": true,
                 "serverSide": true,
                 "bSort": false,
                 "bInfo": false,
                 "searching": true,
                  "dom": 'tp',
                 "orderable": false,
                 "ajax": {
                     "url": '@Url.Content("~/admin/attendance/getattendancedata")',
                     "type": "POST",
                     "datatype": "json",
                     "data": function (d) {
                         d.StartDate = $("#Date").val();
                         d.EndDate = $("#Date").val();
                     }
                 },
                 "columns": [
                     { "data": "name" },
                     { "data": "date" },
                     { "data": "checkInTime" },
                     { "data": "checkOutTime" },
                     { "data": "workHours" },
                     { "data": "status" }
                 ]
             });
         }
    </script>
}
 *@